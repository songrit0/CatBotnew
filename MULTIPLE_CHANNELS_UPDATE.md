# ЁЯЖХ р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕гр╕░р╕Ър╕Ър╕лр╕ер╕▓р╕вр╕лр╣Йр╕нр╕З (Multiple Channels System)

## ЁЯУЛ р╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З

### тЬи р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╣Гр╕лр╕бр╣И
- р╕гр╕нр╕Зр╕гр╕▒р╕Ъ **command_channels** р╣Бр╕ер╕░ **notification_channels** р╣Бр╕Ър╕Ър╕лр╕ер╕▓р╕вр╕лр╣Йр╕нр╕З
- р╕Др╕│р╕кр╕▒р╣Ир╕Зр╣Гр╕лр╕бр╣Ир╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕лр╣Йр╕нр╕Зр╕Ьр╣Ир╕▓р╕Щ Discord
- р╕гр╕░р╕Ър╕Ъ migration р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕Ир╕▓р╕Бр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Ар╕Бр╣Ир╕▓
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕Бр╣Ир╕▓р╣Ар╕Юр╕╖р╣Ир╕нр╕Др╕зр╕▓р╕бр╣Ар╕Вр╣Йр╕▓р╕Бр╕▒р╕Щр╣Др╕Фр╣Й

### ЁЯФз р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Бр╕Бр╣Йр╣Др╕В

#### 1. `config_manager.py`
- р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ `command_channel` р╣Бр╕ер╕░ `notification_channel` р╣Ар╕Ыр╣Зр╕Щ arrays
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `add_command_channel()`, `remove_command_channel()`
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `add_notification_channel()`, `remove_notification_channel()`
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х `is_special_channel()` р╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ър╕лр╕ер╕▓р╕вр╕лр╣Йр╕нр╕З

#### 2. `sheets_manager.py`
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х default config р╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ъ arrays
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Гр╕лр╕бр╣Ир╣Гр╕Щ Google Sheets

#### 3. `voice_manager.py`
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х `_get_notification_channel()` р╣Гр╕лр╣Йр╕ер╕нр╕Зр╕лр╕▓р╕Ир╕▓р╕Бр╕лр╕ер╕▓р╕вр╕лр╣Йр╕нр╕З
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Чр╕▒р╣Йр╕Зр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Ар╕Бр╣Ир╕▓р╣Бр╕ер╕░р╣Гр╕лр╕бр╣И

#### 4. `queue_processor.py`
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х `_get_notification_channel()` р╣Ар╕Кр╣Ир╕Щр╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Ъ voice_manager

#### 5. `commands.py`
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕│р╕кр╕▒р╣Ир╕Зр╣Гр╕лр╕бр╣И 5 р╕Др╕│р╕кр╕▒р╣Ир╕З:
  - `!add_command_channel [#channel]`
  - `!remove_command_channel [#channel]`
  - `!add_notification_channel [#channel]`
  - `!remove_notification_channel [#channel]`
  - `!list_channels`

### ЁЯУБ р╣Др╕Яр╕ер╣Мр╣Гр╕лр╕бр╣И

1. **`migrate_channels.py`** - Script р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Ар╕Фр╕Х Google Sheets
2. **`migrate_channels.bat`** - Batch file р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕▒р╕Щ migration
3. **`test_multiple_channels.py`** - Script р╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ър╣Гр╕лр╕бр╣И
4. **`test_multiple_channels.bat`** - Batch file р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Чр╕Фр╕кр╕нр╕Ъ
5. **`MULTIPLE_CHANNELS_UPDATE.md`** - р╣Др╕Яр╕ер╣Мр╕Щр╕╡р╣Й

## ЁЯЪА р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### 1. р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕гр╕░р╕Ър╕Ъ
```bash
# р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 1: р╣Гр╕Кр╣Й batch file
migrate_channels.bat

# р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 2: р╣Гр╕Кр╣Й command line
python migrate_channels.py
```

### 2. р╣Ар╕Юр╕┤р╣Ир╕б Command Channels
```
!add_command_channel #general
!add_command_channel #bot-commands
!add_command_channel #admin
```

### 3. р╣Ар╕Юр╕┤р╣Ир╕б Notification Channels
```
!add_notification_channel #notifications
!add_notification_channel #logs
!add_notification_channel #updates
```

### 4. р╕Фр╕╣р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕лр╣Йр╕нр╕Зр╕Чр╕╡р╣Ир╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓
```
!list_channels
```

### 5. р╕ер╕Ър╕лр╣Йр╕нр╕Зр╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕▓р╕вр╕Бр╕▓р╕г
```
!remove_command_channel #general
!remove_notification_channel #logs
```

## ЁЯФД р╕Др╕зр╕▓р╕бр╣Ар╕Вр╣Йр╕▓р╕Бр╕▒р╕Щр╣Др╕Фр╣Й

### р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Ар╕Бр╣Ир╕▓ (Legacy)
- р╕гр╕░р╕Ър╕Ър╕вр╕▒р╕Зр╕Др╕Зр╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕Бр╣Ир╕▓ `command_channel` р╣Бр╕ер╕░ `notification_channel`
- р╕Цр╣Йр╕▓р╕бр╕╡р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕Бр╣Ир╕▓ р╕гр╕░р╕Ър╕Ър╕Ир╕░р╣Гр╕Кр╣Йр╕Др╣Ир╕▓р╣Ар╕лр╕ер╣Ир╕▓р╕Щр╕▒р╣Йр╕Щр╕Хр╣Ир╕нр╣Др╕Ы
- р╕кр╕▓р╕бр╕▓р╕гр╕Ц migrate р╣Др╕Ыр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Гр╕лр╕бр╣Ир╣Др╕Фр╣Йр╣Вр╕Фр╕вр╣Гр╕Кр╣Й migration script

### р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Гр╕лр╕бр╣И (New)
- р╣Гр╕Кр╣Й arrays `command_channels` р╣Бр╕ер╕░ `notification_channels`
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕лр╕ер╕▓р╕вр╕лр╣Йр╕нр╕Зр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ
- р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Зр╣Ир╕▓р╕вр╕Ьр╣Ир╕▓р╕Щр╕Др╕│р╕кр╕▒р╣Ир╕Зр╣Гр╕Щ Discord

## ЁЯзк р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

### р╕гр╕▒р╕Щ Test Script
```bash
# р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 1: р╣Гр╕Кр╣Й batch file
test_multiple_channels.bat

# р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 2: р╣Гр╕Кр╣Й command line
python test_multiple_channels.py
```

### р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕Др╕гр╕нр╕Ър╕Др╕ер╕╕р╕б
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕бр╕лр╣Йр╕нр╕Зр╣Гр╕лр╕бр╣И
- тЬЕ р╕ер╕Ър╕лр╣Йр╕нр╕Зр╕нр╕нр╕Б
- тЬЕ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ special channels
- тЬЕ р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕Лр╣Йр╕│
- тЬЕ р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕З notification system

## ЁЯТб р╣Ар╕Др╕ер╣Зр╕Фр╕ер╕▒р╕Ър╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕кр╕│р╕лр╕гр╕▒р╕Ъ Admin
1. **р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ**: р╕гр╕▒р╕Щ migration script р╕Бр╣Ир╕нр╕Щр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
2. **р╕Ир╕▒р╕Фр╕Бр╕ер╕╕р╣Ир╕бр╕лр╣Йр╕нр╕З**: р╣Бр╕вр╕Б command channels р╣Бр╕ер╕░ notification channels р╕Хр╕▓р╕бр╕Ир╕╕р╕Фр╕Ыр╕гр╕░р╕кр╕Зр╕Др╣М
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣М**: р╣Гр╕лр╣Йр╣Бр╕Щр╣Ир╣Гр╕Ир╕зр╣Ир╕▓р╕Ър╕нр╕Чр╕бр╕╡р╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕Щр╕лр╣Йр╕нр╕Зр╕Чр╕╡р╣Ир╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓

### р╕кр╕│р╕лр╕гр╕▒р╕Ъ User
1. **р╣Гр╕Кр╣Йр╕Др╕│р╕кр╕▒р╣Ир╕З**: р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Кр╣Йр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Ър╕нр╕Чр╣Др╕Фр╣Йр╕Ир╕▓р╕Бр╕Чр╕╕р╕Бр╕лр╣Йр╕нр╕Зр╕Чр╕╡р╣Ир╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕Ыр╣Зр╕Щ command channel
2. **р╕Фр╕╣р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ**: р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Ир╕░р╕кр╣Ир╕Зр╣Др╕Ыр╕Чр╕╕р╕Бр╕лр╣Йр╕нр╕Зр╕Чр╕╡р╣Ир╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕Ыр╣Зр╕Щ notification channel
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓**: р╣Гр╕Кр╣Й `!list_channels` р╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╕лр╣Йр╕нр╕Зр╕Чр╕╡р╣Ир╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Др╕зр╣Й

## ЁЯФз Troubleshooting

### р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕нр╕▓р╕Ир╕Юр╕Ъ
1. **р╕Ър╕нр╕Чр╣Др╕бр╣Ир╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╣Гр╕Щр╕лр╣Йр╕нр╕Зр╣Гр╕лр╕бр╣И**
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╕лр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щ command channel р╣Бр╕ер╣Йр╕зр╕лр╕гр╕╖р╕нр╕вр╕▒р╕З
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Вр╕нр╕Зр╕Ър╕нр╕Чр╣Гр╕Щр╕лр╣Йр╕нр╕Зр╕Щр╕▒р╣Йр╕Щ

2. **р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ**
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ notification channel р╣Бр╕ер╣Йр╕зр╕лр╕гр╕╖р╕нр╕вр╕▒р╕З
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Ър╕нр╕Чр╕бр╕╡р╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕Щр╕лр╣Йр╕нр╕Зр╕Щр╕▒р╣Йр╕Щ

3. **Migration р╣Др╕бр╣Ир╕кр╕│р╣Ар╕гр╣Зр╕И**
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н Google Sheets
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Яр╕ер╣М credentials.json

### р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕В
```bash
# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ
!list_channels

# р╕гр╕╡р╣Ар╕Яр╕гр╕К config cache
!refresh_config

# р╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ъ
python test_multiple_channels.py
```

## ЁЯУИ р╕Ьр╕ер╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣М

### р╣Ар╕Фр╕┤р╕б (Single Channel)
- тЭМ р╣Гр╕Кр╣Йр╕Др╕│р╕кр╕▒р╣Ир╕Зр╣Др╕Фр╣Йр╣Ар╕Юр╕╡р╕вр╕Зр╕лр╣Йр╕нр╕Зр╣Ар╕Фр╕╡р╕вр╕з
- тЭМ р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Др╕Ыр╕лр╣Йр╕нр╕Зр╣Ар╕Фр╕╡р╕вр╕з
- тЭМ р╕вр╕╖р╕Фр╕лр╕вр╕╕р╣Ир╕Щр╕Щр╣Йр╕нр╕в

### р╣Гр╕лр╕бр╣И (Multiple Channels)
- тЬЕ р╣Гр╕Кр╣Йр╕Др╕│р╕кр╕▒р╣Ир╕Зр╣Др╕Фр╣Йр╕лр╕ер╕▓р╕вр╕лр╣Йр╕нр╕З
- тЬЕ р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Др╕Ыр╕лр╕ер╕▓р╕вр╕лр╣Йр╕нр╕З
- тЬЕ р╕вр╕╖р╕Фр╕лр╕вр╕╕р╣Ир╕Щр╕кр╕╣р╕З
- тЬЕ р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Зр╣Ир╕▓р╕в
- тЬЕ р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕Бр╣Ир╕▓

---

**ЁЯУЕ р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕нр╕▒р╕Ыр╣Ар╕Фр╕Х:** 10 р╕Бр╕гр╕Бр╕Ор╕▓р╕Др╕б 2025  
**ЁЯФЦ р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щ:** Multiple Channels System v1.0  
**ЁЯСитАНЁЯТ╗ р╕Юр╕▒р╕Тр╕Щр╕▓р╣Вр╕Фр╕в:** CatBot Team
